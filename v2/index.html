<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Flour JS</title>

		<link rel="stylesheet" type="text/css" href="app/style.css">

		<script type="text/javascript" src="src/app.js"></script>
		<script type="text/javascript" src="src/util.js"></script>
		<script type="text/javascript" src="src/view.js"></script>
		<script type="text/javascript" src="src/state.js"></script>
		<script type="text/javascript" src="src/block.js"></script>
		<script type="text/javascript" src="src/binding.js"></script>
		<script type="text/javascript" src="src/template.js"></script>

		<script type="text/javascript" src="src/blocks/list.js"></script>

		<script type="text/javascript" src="src/bindings/text.js"></script>
		<script type="text/javascript" src="src/bindings/click.js"></script>
		<script type="text/javascript" src="src/bindings/value.js"></script>
	</head>
	<body>
		<template id="flour-template.home">
			<div>
				<p>Hello {{user.name}}.</p>
				<p>Items: <span flour-text="count"></span></p>
				<div>
					<input type="text" flour-value="count" />
				</div>
				
				<div style="padding: 8px 0;">
					{{#list items}}
						<div style="padding: 8px; background-color: #fff; margin:  8px 0; border-radius: 8px;">
							<div style="display: flex;">
								<div style="flex: 1;">List item: <span flour-text="name"></span></div>
								<div style="flex: 1;">
									Count: <span flour-text="count"></span>
									<button on-click="handleListItemIncrementCountClick" data-id={{id}}>Increment count</button>
								</div>
								<div>
									<button on-click="handleListItemRemoveClick" data-id={{id}}>&times;</button>
								</div>
							</div>
							<div>
								<strong>Drinks</strong>
								<div>
									{{#list drinks}}
										<div>
											<div>{{name}}</div>
										</div>
									{{/list}}
								</div>
							</div>
							<div>
								<input type="text" flour-value="name"/>
								<button on-click="handleAddDrinkToItemClick">Add</button>
							</div>
						</div>
					{{/list}}
				</div>

				<ul style="padding: 16px 0 0 0; list-style: none; margin: 0; display: flex;">
					{{#list items}}
						<li style="margin: 4px; padding:  4px 8px; border-radius: 4px; background-color: #fff;">
							<span flour-text="name"></span>: <span flour-text="count"></span>
						</li>
					{{/list}}
				</ul>
				
				<div>
					<input type="text" flour-value="new_item_name" />
					<button class="button" on-click="handleAddItemClick">Add item</button>
					<button class="button" on-click="handleSetItemsClick">Set items</button>
				</div>

				<div style="padding-top: 8px;">
					<button class="button" on-click="render">Re-render</button>
				</div>
			</div>
		</template>

		<div id="app"></div>
		<div id="home-view"></div>

		<script type="text/javascript" src="app/views/home.js"></script>
		<script type="text/javascript" src="app/index.js"></script>
	</body>
</html>